{"version":3,"sources":["webpack:///./src/assets/images/rqiicon4.png","webpack:///./src/assets/images/rqiicon1.gif","webpack:///./src/assets/images/rqiicon2.gif","webpack:///./src/assets/images/rqiicon5.png","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/views/mainviews/Menu.vue?3a49","webpack:///src/views/mainviews/Menu.vue","webpack:///./src/views/mainviews/Menu.vue?8d38","webpack:///./src/views/mainviews/Menu.vue","webpack:///./src/assets/images/rqiicon3.gif"],"names":["module","exports","$","$map","map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","gosearch","_l","item","index","key","url","_v","style","width","_m","height","ref","refInFor","$event","toggleType","class","active","isActive","_s","typeDesc","isLoading","viewProductInfo","pid","smallImg","name","enname","price","staticRenderFns","data","menubanner","typeData","products","created","getTypeData","methods","$toast","loading","message","forbidClick","duration","loadingType","axios","method","params","appkey","result","code","v","type","iconData","i","unshift","getProductsByType","JSON","parse","component"],"mappings":"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","file":"js/chunk-3062258e.293d7fc1.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/rqiicon4.abf7a39b.png\";","module.exports = __webpack_public_path__ + \"img/rqiicon1.0ddc1bca.gif\";","module.exports = __webpack_public_path__ + \"img/rqiicon2.185ec0db.gif\";","module.exports = __webpack_public_path__ + \"img/rqiicon5.a27caa84.png\";","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu\"},[_c('van-search',{attrs:{\"shape\":\"round\",\"background\":\"linear-gradient(to left, #4c71e8 0%,#80a9fe 100%)\",\"placeholder\":\"请输入商品关键词\"},on:{\"focus\":_vm.gosearch}}),_c('div',{staticClass:\"menu-banner\"},[_c('van-swipe',{staticClass:\"my-swipe\",attrs:{\"autoplay\":3000,\"indicator-color\":\"white\"}},_vm._l((_vm.menubanner),function(item,index){return _c('van-swipe-item',{key:index},[_c('img',{attrs:{\"src\":item.url,\"alt\":\"\"}})])}),1)],1),_c('div',{staticClass:\"menued-box\"},[_c('div',{staticClass:\"menued-txt\"},[_vm._v(\"瑞幸潮品\")]),_c('div',{staticClass:\"menued-list clearfix\",style:({width:'700px'})},[_vm._m(0),_vm._m(1),_vm._m(2),_vm._m(3),_vm._m(4)])]),_c('div',{staticClass:\"menu-cube\"},[_c('div',{staticClass:\"menu-box\"},[_c('div',{staticClass:\"menu-list\",style:({height:_vm.height + 'rem'})},_vm._l((_vm.typeData),function(item,index){return _c('div',{key:index,ref:'menu' + index,refInFor:true,staticClass:\"menu-list-item\",on:{\"click\":function($event){return _vm.toggleType(item)}}},[_c('div',{staticClass:\"text\",class:{active: item.isActive}},[_vm._v(_vm._s(item.typeDesc))])])}),0)]),_c('div',{staticClass:\"menu-product\"},[_c('van-skeleton',{attrs:{\"row\":6,\"loading\":_vm.isLoading}},_vm._l((_vm.products),function(item,index){return _c('div',{key:index,staticClass:\"product-list\",class:{'not-first': index > 0},on:{\"click\":function($event){return _vm.viewProductInfo(item.pid)}}},[_c('div',{staticClass:\"pro-box\"},[_c('div',{staticClass:\"pro-img\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":item.smallImg,\"alt\":\"\"}})]),_c('div',{staticClass:\"pro-info\"},[_c('div',{staticClass:\"pro-text fl\"},[_c('div',{staticClass:\"ch-name\"},[_vm._v(\" \"+_vm._s(item.name)+\" \")]),_c('div',{staticClass:\"en-name\"},[_vm._v(\" \"+_vm._s(item.enname)+\" \")])]),_c('div',{staticClass:\"pro-price fr\"},[_vm._v(\" ￥\"+_vm._s(item.price)+\" \")])])])])}),0)],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menued-list-item fl\"},[_c('div',{staticClass:\"menued-content\"},[_c('div',{staticClass:\"homeimg-box\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":require(\"../../assets/images/rqiicon1.gif\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"menued-text\"},[_vm._v(\"幸运随行杯\")]),_c('div',{staticClass:\"menued-pirce\"},[_vm._v(\"￥168\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menued-list-item fl\"},[_c('div',{staticClass:\"menued-content\"},[_c('div',{staticClass:\"homeimg-box\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":require(\"../../assets/images/rqiicon2.gif\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"menued-text\"},[_vm._v(\"幸运随行杯\")]),_c('div',{staticClass:\"menued-pirce\"},[_vm._v(\"￥78\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menued-list-item fl\"},[_c('div',{staticClass:\"menued-content\"},[_c('div',{staticClass:\"homeimg-box\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":require(\"../../assets/images/rqiicon3.gif\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"menued-text\"},[_vm._v(\"幸运随行杯\")]),_c('div',{staticClass:\"menued-pirce\"},[_vm._v(\"￥78\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menued-list-item fl\"},[_c('div',{staticClass:\"menued-content\"},[_c('div',{staticClass:\"homeimg-box\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":require(\"../../assets/images/rqiicon4.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"menued-text\"},[_vm._v(\"陶瓷咖啡杯\")]),_c('div',{staticClass:\"menued-pirce\"},[_vm._v(\"￥78\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menued-list-item fl\"},[_c('div',{staticClass:\"menued-content\"},[_c('div',{staticClass:\"homeimg-box\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":require(\"../../assets/images/rqiicon5.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"menued-text\"},[_vm._v(\"定制款杯子\")]),_c('div',{staticClass:\"menued-pirce\"},[_vm._v(\"￥78\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"menu\">\r\n    <van-search\r\n  shape=\"round\"\r\n  background=\"linear-gradient(to left, #4c71e8 0%,#80a9fe 100%)\"\r\n  placeholder=\"请输入商品关键词\"\r\n  @focus=\"gosearch\"\r\n/>\r\n    <div class=\"menu-banner\">\r\n      <van-swipe class=\"my-swipe\" :autoplay=\"3000\" indicator-color=\"white\">\r\n        <van-swipe-item v-for=\"(item,index) in menubanner\" :key=\"index\">\r\n          <img :src=\"item.url\" alt />\r\n        </van-swipe-item>\r\n      </van-swipe>\r\n    </div>\r\n\r\n     <div class=\"menued-box\">\r\n       <div class=\"menued-txt\">瑞幸潮品</div>\r\n     <div class=\"menued-list clearfix\" :style=\"{width:'700px'}\">\r\n       <div class=\"menued-list-item fl\">\r\n         <div class=\"menued-content\">\r\n           <div class=\"homeimg-box\">\r\n              <img class=\"auto-img\" src=\"../../assets/images/rqiicon1.gif\" alt=\"\">\r\n           </div>\r\n           <div class=\"menued-text\">幸运随行杯</div>\r\n            <div class=\"menued-pirce\">￥168</div>\r\n         </div>\r\n       </div>\r\n        <div class=\"menued-list-item fl\">\r\n         <div class=\"menued-content\">\r\n           <div class=\"homeimg-box\">\r\n              <img class=\"auto-img\" src=\"../../assets/images/rqiicon2.gif\" alt=\"\">\r\n           </div>\r\n           <div class=\"menued-text\">幸运随行杯</div>\r\n            <div class=\"menued-pirce\">￥78</div>\r\n         </div>\r\n       </div>\r\n        <div class=\"menued-list-item fl\">\r\n         <div class=\"menued-content\">\r\n           <div class=\"homeimg-box\">\r\n              <img class=\"auto-img\" src=\"../../assets/images/rqiicon3.gif\" alt=\"\">\r\n           </div>\r\n           <div class=\"menued-text\">幸运随行杯</div>\r\n            <div class=\"menued-pirce\">￥78</div>\r\n         </div>\r\n       </div>\r\n        <div class=\"menued-list-item fl\">\r\n         <div class=\"menued-content\">\r\n           <div class=\"homeimg-box\">\r\n              <img class=\"auto-img\" src=\"../../assets/images/rqiicon4.png\" alt=\"\">\r\n           </div>\r\n           <div class=\"menued-text\">陶瓷咖啡杯</div>\r\n            <div class=\"menued-pirce\">￥78</div>\r\n         </div>\r\n       </div>\r\n        <div class=\"menued-list-item fl\">\r\n         <div class=\"menued-content\">\r\n           <div class=\"homeimg-box\">\r\n              <img class=\"auto-img\" src=\"../../assets/images/rqiicon5.png\" alt=\"\">\r\n           </div>\r\n           <div class=\"menued-text\">定制款杯子</div>\r\n            <div class=\"menued-pirce\">￥78</div>\r\n           \r\n         </div>\r\n       </div>\r\n     </div>\r\n   </div>\r\n\r\n    <div class=\"menu-cube\">\r\n      <div class=\"menu-box\">\r\n        <div class=\"menu-list\" :style=\"{height:height + 'rem'}\">\r\n          <div :ref=\"'menu' + index\" class=\"menu-list-item\"\r\n            v-for=\"(item,index) in typeData\"\r\n            :key=\"index\"\r\n            @click=\"toggleType(item)\"\r\n          >\r\n            <div class=\"text\" :class=\"{active: item.isActive}\">{{item.typeDesc}}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"menu-product\">\r\n        <van-skeleton :row=\"6\" :loading=\"isLoading\">\r\n        <div class=\"product-list\" :class=\"{'not-first': index > 0}\" v-for=\"(item,index) in products\" :key=\"index\" @click=\"viewProductInfo(item.pid)\">\r\n          <div class=\"pro-box\">\r\n            <div class=\"pro-img\">\r\n              <img class=\"auto-img\" :src=\"item.smallImg\" alt=\"\">\r\n            </div>\r\n            <div class=\"pro-info\">\r\n              <div class=\"pro-text fl\">\r\n                <div class=\"ch-name\">\r\n                  {{item.name}}\r\n                </div>\r\n                <div class=\"en-name\">\r\n                  {{item.enname}}\r\n                </div>\r\n                </div>\r\n                <div class=\"pro-price fr\">\r\n                  ￥{{item.price}}\r\n                </div>\r\n              \r\n            </div>\r\n          </div>\r\n        </div>\r\n         </van-skeleton>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"../../assets/less/menu.less\";\r\nexport default {\r\n  name: \"Menu\",\r\n  data() {\r\n    return {\r\n      height:0,\r\n      menubanner: [\r\n        {\r\n          url:\r\n            \"https://img.zcool.cn/community/01173c5e422bb2a80120a89553c9ee.jpg@1280w_1l_0o_100sh.jpg\"\r\n        },\r\n        {\r\n          url:\r\n            \"https://img.zcool.cn/community/01dc685db03828a801209e1f85a1ea.jpg@1280w_1l_2o_100sh.jpg\"\r\n        },\r\n        {\r\n          url:\r\n            \"https://img.zcool.cn/community/01173c5e422bb2a80120a89553c9ee.jpg@1280w_1l_0o_100sh.jpg\"\r\n        },\r\n        {\r\n          url:\r\n            \"https://img.zcool.cn/community/0118205c169081a801209252cea3e7.jpg@1280w_1l_2o_100sh.jpg\"\r\n        }\r\n      ],\r\n      typeData: [],\r\n      products: [],\r\n      isLoading:true,\r\n    };\r\n  },\r\n  created() {\r\n    this.getTypeData();\r\n  },\r\n  methods: {\r\n    gosearch(){\r\n     this.$router.push({ name: \"Search\" });\r\n    },\r\n    //获取商品类型数据\r\n    getTypeData() {\r\n      \r\n      this.$toast.loading({\r\n        message: \"加载中...\",\r\n        forbidClick: true,\r\n        duration: 0,\r\n        loadingType: \"spinner\"\r\n      });\r\n      this.axios({\r\n        method: \"GET\",\r\n        url: \"/type\",\r\n        params: {\r\n          appkey: this.appkey\r\n        }\r\n      }).then(result => {\r\n        this.$toast.clear();\r\n        \r\n        if (result.data.code == 400) {\r\n          let iconData = [\r\n            {\r\n              type: \"latte\"\r\n            },\r\n            {\r\n              type: \"coffee\"\r\n            },\r\n            {\r\n              type: \"rena_ice\"\r\n            }\r\n          ];\r\n          result.data.result.map(v => {\r\n            for (let i = 0; i < iconData.length; i++) {\r\n              if (v.type == iconData[i].type) {\r\n                v.isActive = false;\r\n                break;\r\n              }\r\n            }\r\n          });\r\n          result.data.result.unshift({\r\n            type: \"isHot\",\r\n            typeDesc: \"推荐\",\r\n            isActive: true\r\n          });\r\n\r\n          this.typeData = result.data.result;\r\n\r\n          this.getProductsByType(this.typeData[0])\r\n          \r\n           this.$nextTick(() => {\r\n              let height = this.$refs.menu0[0].clientHeight;\r\n              \r\n\r\n              this.height = (this.typeData.length * height) / 37.5;\r\n            });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n          this.$toast.clear();\r\n          \r\n        });\r\n    },\r\n    toggleType(item) {\r\n      if (item.isActive) {\r\n        return;\r\n      }\r\n\r\n       this.isLoading = true;\r\n       \r\n      for (let i = 0; i < this.typeData.length; i++) {\r\n        if (this.typeData[i].isActive) {\r\n          this.typeData[i].isActive = false;\r\n          break;\r\n        }\r\n      }\r\n\r\n      item.isActive = true;\r\n      this.getProductsByType(item);\r\n    },\r\n\r\n    getProductsByType(item){\r\n      this.products = [];\r\n      let data = sessionStorage.getItem(item.type);\r\n      if(data){\r\n        this.isLoading = false;\r\n         \r\n        this.products = JSON.parse(data);\r\n        return;\r\n      }\r\n       \r\n\r\n       let params = {\r\n         key:'type',\r\n          value: item.type,\r\n          appkey: this.appkey\r\n       };\r\n\r\n       if(item.type == 'isHot'){\r\n         params.key = 'isHot';\r\n          params.value = 1;\r\n       }\r\n        \r\n\r\n        this.$toast.loading({\r\n          message: '加载中...',\r\n          forbidClick: true,\r\n          duration: 0,\r\n          loadingType: 'spinner'\r\n        })\r\n        this.axios({\r\n          method: 'GET',\r\n          url: '/typeProducts',\r\n          params\r\n        }).then(result => {\r\n           this.$toast.clear();\r\n          \r\n         if(result.data.code == 500){\r\n           this.isLoading = false;\r\n           this.products = result.data.result;\r\n\r\n             //将商品数据缓存\r\n            sessionStorage.setItem(item.type, JSON.stringify(this.products));\r\n         }\r\n        }).catch(err => {\r\n           this.$toast.clear();\r\n          \r\n        })\r\n    },\r\n\r\n    viewProductInfo(pid){\r\n       this.$router.push({name: 'Detail', query: {pid}});\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=9603fde4&scoped=true&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9603fde4\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/rqiicon3.76996e19.gif\";"],"sourceRoot":""}